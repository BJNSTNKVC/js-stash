!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Stash={})}(this,function(t){"use strict";function e(t,e,s,r){if("a"===s&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?r:"a"===s?r.call(t):r?r.value:e.get(t)}var s,r;"function"==typeof SuppressedError&&SuppressedError;class n{static ttl(t){!function(t,e,s,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===r?n.call(t,s):n?n.value=s:e.set(t,s)}(this,s,t,"f",r)}static set(t,n,o=null){o=null!=o?o:e(this,s,"f",r);const a={data:n instanceof Function?n():n,expiry:o?Date.now()+1e3*o:null};localStorage.setItem(t,JSON.stringify(a))}static get(t,e=null){var s;const r=localStorage.getItem(t);if(null===r)return e instanceof Function?e():null!=e?e:null;try{const e=JSON.parse(r);return e.expiry&&Date.now()>e.expiry?(this.remove(t),null):null!==(s=e.data)&&void 0!==s?s:e}catch(t){return r}}static remember(t,n,o=null){const a=this.get(t);return null===a&&this.set(t,n,null!=o?o:e(this,s,"f",r)),null!=a?a:this.get(t)}static all(){return Object.fromEntries(Object.keys(localStorage).map(t=>[t,this.get(t)]))}static remove(t){localStorage.removeItem(t)}static clear(){localStorage.clear()}static has(t){return!!this.get(t)}static hasAny(...t){return 1===t.length&&(t=Array.isArray(t[0])?t[0]:[t[0]]),t.some(t=>this.has(t))}static isEmpty(){return 0===Object.keys(this.all()).length}static isNotEmpty(){return!this.isEmpty()}static keys(){return Object.keys(localStorage)}static count(){return localStorage.length}static touch(t,n=null){const o=this.get(t);null!==o&&this.set(t,o,null!=n?n:e(this,s,"f",r))}static expiry(t,e=!1){const s=localStorage.getItem(t);if(null===s)return null;try{const t=JSON.parse(s);return(null==t?void 0:t.hasOwnProperty("expiry"))&&null!==(null==t?void 0:t.expiry)?e?new Date(t.expiry):t.expiry:null}catch(t){return null}}static dump(t){console.log(this.get(t))}}s=n,r={value:null},"undefined"!=typeof window&&(window.LocalStorage=n),"undefined"!=typeof global&&(global.LocalStorage=n);class o{static set(t,e){const s={data:e instanceof Function?e():e};sessionStorage.setItem(t,JSON.stringify(s))}static get(t,e=null){var s;const r=sessionStorage.getItem(t);if(null===r)return e instanceof Function?e():null!=e?e:null;try{const t=JSON.parse(r);return null!==(s=t.data)&&void 0!==s?s:t}catch(t){return r}}static remember(t,e){const s=this.get(t);return null===s&&this.set(t,e),null!=s?s:this.get(t)}static all(){return Object.fromEntries(Object.keys(sessionStorage).map(t=>[t,this.get(t)]))}static remove(t){sessionStorage.removeItem(t)}static clear(){sessionStorage.clear()}static has(t){return!!this.get(t)}static hasAny(...t){return 1===t.length&&(t=Array.isArray(t[0])?t[0]:[t[0]]),t.some(t=>this.has(t))}static isEmpty(){return 0===Object.keys(this.all()).length}static isNotEmpty(){return!this.isEmpty()}static keys(){return Object.keys(sessionStorage)}static count(){return sessionStorage.length}static dump(t){console.log(this.get(t))}}"undefined"!=typeof window&&(window.SessionStorage=o),"undefined"!=typeof global&&(global.SessionStorage=o);class a{static driver(t){switch(t){case"local":return n;case"session":return o;default:throw new Error("Unsupported driver.")}}static local(){return n}static session(){return o}}"undefined"!=typeof window&&(window.Stash=a,window.LocalStorage=n,window.SessionStorage=o),"undefined"!=typeof global&&(global.Stash=a,global.LocalStorage=n,global.SessionStorage=o),t.LocalStorage=n,t.SessionStorage=o,t.Stash=a});
//# sourceMappingURL=main.min.js.map
